{# templates/market/stock_chart.html #}
{% extends "market/base.html" %}
{% block title %}{{ symbol }} – Interactive Chart{% endblock %}

{% block content %}
<h1 class="p-3 mb-0">{{ symbol }} — Interactive Candlestick Chart</h1>
<div id="chart" style="width:100%; height:600px;"></div>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const chartData = {{ chart_json|safe }};
    Plotly.newPlot(
      'chart',
      chartData.data,
      chartData.layout,
      { responsive: true }
    );
  });
</script>
{% endblock %}
